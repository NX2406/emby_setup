📖 详细部署教程🟢 方案 A：CloudDrive2 + Emby (新手推荐)适用： 阿里云盘 (Open)、115网盘、夸克网盘、123云盘。特点： 配置极其简单，扫码登录即可。运行脚本：选择 1. 方案 A: CloudDrive2 + Emby。绑定域名：脚本最后会询问是否绑定域名和申请 SSL，按需选择。配置网盘：打开浏览器访问：http://你的IP:19798 (或你的域名)注册/登录 CloudDrive2。点击图标扫码登录你的网盘（如 115 或 阿里云盘）。关键步骤 ⚠️：选中网盘后，点击上方的“挂载”按钮，务必将挂载点名称设置为 /CloudNAS (或者将网盘挂载到 /CloudNAS 目录下的子文件夹)。配置 Emby：打开 http://你的IP:8096。添加媒体库 -> 文件夹选择器 -> /mnt/media -> 你会看到你的网盘内容。🟡 方案 B：Alist + Emby (进阶性能)适用： Google Drive、OneDrive、以及追求直链播放的用户。特点： 播放流量不经过 VPS，速度仅受本地宽带限制。运行脚本：选择 2. 方案 B: Alist + Emby。保存凭据：脚本运行结束后，务必截图保存屏幕上显示的 Alist 随机管理员密码。配置 Alist：打开 http://你的IP:5244，使用刚才的账号密码登录。在“存储”中添加你的网盘（如 Google Drive），并确保 WebDAV 策略 选择 302 重定向。挂载到本地 (Rclone)：脚本已自动安装 Rclone，你需要手动配置连接。在 SSH 输入 rclone config，新建一个 remote (例如叫 alist)，选择 WebDAV 协议，地址填 http://127.0.0.1:5244/dav，账号密码填 Alist 的。执行挂载命令：Bash# 将 alist 挂载到脚本预设的目录
rclone mount alist:/ /opt/media_stack/rclone_mount --copy-links --allow-other --allow-non-empty --vfs-cache-mode writes --daemon
配置 Emby：打开 Emby 后台，添加媒体库，路径选择 /mnt/media 即可看到文件。⚙️ 端口说明服务默认端口说明Emby Server8096媒体服务器后台CloudDrive219798方案 A 的网盘管理后台Alist5244方案 B 的网盘列表程序⚠️ CentOS/RHEL 用户特别提示CentOS 系统默认防火墙 (Firewalld) 可能会拦截外部访问。如果安装后无法访问网页后台，请执行以下命令放行端口：Bash# 放行常用端口
firewall-cmd --zone=public --add-port=8096/tcp --permanent
firewall-cmd --zone=public --add-port=19798/tcp --permanent
firewall-cmd --zone=public --add-port=5244/tcp --permanent
firewall-cmd --zone=public --add-port=80/tcp --permanent
firewall-cmd --zone=public --add-port=443/tcp --permanent

# 重载防火墙使配置生效
firewall-cmd --reload
🛠️ 常见问题 (FAQ)Q1: 自动 SSL 证书申请失败怎么办？确保域名已经解析到当前服务器 IP。确保 80 端口未被占用且防火墙已放行。如果失败，可以再次运行脚本选择 4. 单独安装/配置 Nginx + SSL 重试。Q2: Emby 搜不到海报怎么办？脚本已内置 TMDB Hosts 优化功能。如果在菜单中选择“安装”后依然不行，可以单独运行脚本选择 "选项 3: 修复 TMDB Hosts"。Q3: 如何卸载？运行脚本，选择 "选项 5: 卸载并清理"。这将删除所有容器，并询问是否删除配置文件数据。📝 免责声明本脚本仅供学习交流使用。请勿用于非法用途。在使用 115、阿里云盘等服务时，请遵守相应服务商的使用条款。
